---
title: Yii应用结构示意图
date: 2017-03-21 17:39:31
categories: yii
---

![应用结构示意图](/img/application-structure.png)

- 在类图使用实心的菱形表示，菱形从局部指向整体。组合(Composition) : 表示contains-a的关系，是一种强烈的包含关系。组合类负责被组合类的生命周期。是一种更强的聚合关系。部分不能脱离整体存在
- 1:1 表示一一映射关系 0..* 表示有0和或者多个

- 入口脚本是整体，负责实例化application，负责application的生命周期。一个application属于且仅属于一个入口脚本
- 入口脚本我们可以想象成门卫大爷，网关，所有的请求都需要经过他接受，入口脚本主要定义常量，开发环境，加载相应的配置文件。最终根据配置文件创建应用主体。应用主体是全局可访问的
- 组件：挂载到应用主体上，全局可访问。是一些高内聚，非耦合的类。如request组件处理请求，repose组件处理响应，urlManager处理路由。yii组件思想，小明是一个全能技术的，他有许多箱子，处理电路的箱子，修水管的工具箱，煮饭的工具箱....在处理不同场景，他可以用不同箱子的工具解决。
- 一个应用主体对应零个或者多个组件，组件全局可访问的(初始加载太多组件会相应性能)
- 模块：公司分成不同的部门
- 一个应用主体对应零个或者多个模块
- 一个应用主体对用一个(至少有个默认控制器)或者多个控制器