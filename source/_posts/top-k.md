---
title: top(k)
date: 2020-04-13 09:28:10
categories:  常见问题
---


> int 32  8bit = 1byte 40x10^8x32(bit)-> /8x1000x1000x1000 = 16G  
> 40个数 大概存储16G  一般给定的内存大小<8G  
> 1  找出最大|最小的一个数  
> 2  找出前K个最大最小的数  
> 3  找出某个数是否存在  
> 4  统计某个数的个数
> 5  统计最多的前n个数

#### 找出最大|最小的一个数
  
* 大根堆|小根堆  流式读取
* 流式读取  记录最大值最小值 
* 文件拆分n  每个文件获取最大最小值(每个文件加载到内存，快排O(nlog2n)?记录最大值最小值O(n))，对n个值求最大最小

#### 找出前K个最大最小的数

* 流式读取  大根堆小根堆
* 文件拆分n  每个文件获取K个最大最小值(每个文件加载到内存，快排O(nlog2n)?记录最大值最小值O(n))，对n*k个值求排序

#### 找出某个数是否存在

* 流式读取 每个判断是否相等
* 文件拆分n 在每个文件加载到内存判断是否存在
* 把数据分成的高位分成1 和 0的文件  感觉很厉害，但是性能好吗

#### 统计某个数的个数

* 流式读取 每个判断是否相等 计数器累计
* 文件拆分n 在每个文件加载到内存判断是否存在  计数器累计  再求和

#### 统计最多的前n个数
* 流式读取  大根堆，记录的是数值对应的次数
* 文件拆分n 在每个文件加载到内存统计次数  最多的