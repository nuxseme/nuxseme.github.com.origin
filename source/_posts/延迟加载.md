---
title: 延迟加载
date: 2018-10-12 09:33:56
categories:
---


> 对象依赖多个属性或者多个外部对象 通常在实例化阶段需要外部传递或者根据参数实例化出依赖的对象
> 这里可以使用懒加载方式 在getter 方法获取实例存在则返回 不存在则实例化。
> 隐藏的坑:因为是延迟实例化，如果依赖的对象依赖主对象的属性和状态，当主对象的属性和状态变迁之后
> 再使用延迟加载的对象可能会跟业务不符合
> 
> 实例：邮件的内容存储，草稿位于草稿db，正文位于正文db
> 草稿变迁为正式发件过程中所依赖不同的数据源导致content获取不到