---
title: 实体(引用对象)和值对象
categories: ddd
date: 2017-02-13 11:47:03
---


#### 概述

> 实体和值对象是对通用语言中名词的抽象。对现实世界中物体(虚拟)的抽象

#### 实体

* 实体具有唯一标示。比如每个人有身份证，且身份证号码是唯一的。
* 实体具有状态，是会随着时间变化改变的（非连续性）。人在成长变化，订单在不同状态之间变化
* 实体往往具有自己的行为属性。用户可以获取自己的地址，可以查询自己的余额

#### 值对象

* 值对象具有替换性。比如地址，当你修改地址往往是重置地址即可。你2份订单上相同的地址被认为没有区别
* 值对象具有非破坏性。基于值对象的替换性，在值对象内部没有（通常）行为去改变值对象的属性
* 值对象可以理解成数据持有器，属性容器（不确定正确）。通常不会设置方法行为去修改对象内部的属性
* 值对象可以用来描述实体的属性。比如，地址，电话

#### 实体和值对象的区别

* 是否具有唯一标示
* 是否具有状态迁移

#### Tips

* 在对模型抽象的时候仔细考虑合适的领域对象，不要滥用实体，也不要滥用值对象
* 实体对象"涉及"到的属性可能很多。user包含，手机email等属性，还跟订单，登录记录，余额账户，信用度....有关。这里的有关往往涉及很广，因为系统是由核心对象在"操作"的。在抽象实体时，一定要确定属性是否真的属于这个实体，是不是可以转移到属性值对象中，是不是属于别的实体.....


